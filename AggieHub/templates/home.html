
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Aggie Bridge</title>
    <link rel="stylesheet" href={% static 'css/homepage.css' %}>
    <script type="text/javascript" src="{% static 'js/jquery-3.6.3.js' %}"></script>
    <script type="text/javascript">
        //gets available subjects based on term selection
        $(document).ready(function(){
            $("#select_term").change(function(){
                var term = $(this).children("option:selected").val();
                $.ajax({
                    type: "POST",
                    url: "{% url 'get_subjects' %}",
                    data: {
                        'term': term,
                        'csrfmiddlewaretoken': '{{ csrf_token }}'
                    },
                    success: function (response) {
                        console.log(response);
                        var subjects = response;
                        var subject_select = $("#select_subject");
                        subject_select.empty();
                        subject_select.append('<option disabled="disabled" selected="selected">Select Subject</option>');
                        //add each subject in subjects to the subject select drop dropdown
                        for (var i = 0; i < subjects.length; i++) {
                            print(subjects[i]);
                            subject_select.append('<option value="' + subjects[i] + '">' + subjects[i] + '</option>');
                        }
                    }
                });
            });
        });
        //gets available courses based on subject selection
        $(document).ready(function(){
            $("#select_subject").change(function(){
                var subject = $(this).children("option:selected").val();
                $.ajax({
                    type: "POST",
                    url: "{% url 'get_courses' %}",
                    data: {
                        'subject': subject,
                        'csrfmiddlewaretoken': '{{ csrf_token }}'
                    },
                    success: function (response) {
                        console.log(response);
                        var courses = JSON.parse(response);
                        var course_select = $("#select_course");
                        course_select.empty();
                        course_select.append('<option disabled="disabled" selected="selected">Select Course</option>');
                        for (var i = 0; i < courses.length; i++) {
                            course_select.append('<option value="' + courses[i] + '">' + courses[i] + '</option>');
                        }
                    }
                });
            });
        });
        //gets course description based on course selection
        $(document).ready(function(){
            $("#select_course").change(function(){
                var course = $(this).children("option:selected").val();
                $.ajax({
                    type: "POST",
                    url: "{% url 'get_description' %}",
                    data: {
                        'course': course,
                        'csrfmiddlewaretoken': '{{ csrf_token }}'
                    },
                    success: function (response) {
                        console.log(response);
                        var description = JSON.parse(response);
                        var course_description = $("#description");
                        course_description.empty();
                        course_description.append('<p>' + description + '</p>');
                    }
                });
            });
        });
    </script>
</head>

<body>
    <nav class = "banner">
        {% include 'navigation.html' %}
    </nav>

    <aside class = "options">
        <div id = "pageinfo">
            <h2>Course Registration</h2>
            <p id = "reg_status">FULL-TIME STATUS</p>
        </div>
        {% csrf_token %}
        <section class = "dropdowns">
            <select id = "select_term">
                <option disabled="disabled" selected="selected">Select Term</option>
                {% for term in terms %}
                <option value="{{term}}">{{term}}</option>
                {% endfor %}
            </select>
            <select id = "select_subject">
                <option disabled="disabled" selected="selected">Select Subject</option>
            </select>
            <select id = "select_course">
                <option disabled="disabled" selected="selected">Select Course</option>
            </select>
        </section>

        <section class = "description">
            <p>Course Description</p>
        </section>

        <section class = "select_section">
            <select id="available" size="5">
                {% for choice in sections %}
                <option value="{{choice}}">{{choice}}</option>
                {% endfor %}
            </select>
        </section>
        <div id = "update">
        <button id = "add">Add to Schedule</button>
        </div>
    </aside>

    <main class = "view">
        <div class = "scheduleview">
            <table border>
                <thead>
                    <tr>
                        <th width = "10%"></th>
                        <th width = "18%">Monday</th>
                        <th width = "18%">Tuesday</th>
                        <th width = "18%">Wednesday</th>
                        <th width = "18%">Thursday</th>
                        <th width = "18%">Friday</th>
                    </tr>
                </thead>
                <tr>
                    <th>8:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>8:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>9:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>9:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>10:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>10:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>11:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>11:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>12:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>12:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>1:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>1:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>2:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>2:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>3:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>3:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>4:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>4:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>5:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>5:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>6:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>6:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>7:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>7:30</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <th>8:00</th>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div>
    </main>

    <section class = "detailview">
        <table border>
            <thead>
                <tr>
                    <th width = "8%">CRN</th>
                    <th width = "12%">Section</th>
                    <th width = "25">Title</th>
                    <th width = "8%">Days</th>
                    <th width = "8%">Time</th>
                    <th width = "18%">Instructor</th>
                    <th width = "9%">Location</th>
                    <th width = "4%">Credits</th>
                    <th width = "4%"></th>
                </tr>
            </thead>
                <tr>
                    <td>12345</td>
                    <td>01</td>
                    <td>Intro to Computer Science</td>
                    <td>MWF</td>
                    <td>9:00-9:50</td>
                    <td>John Doe</td>
                    <td>1234</td>
                    <td>3</td>
                    <td class="close">x</td>
                </tr>
                <tr>
                    <td>12445</td>
                    <td>02</td>
                    <td>Intro to Computer Science</td>
                    <td>MWF</td>
                    <td>10:00-10:50</td>
                    <td>John Doe</td>
                    <td>1234</td>
                    <td>3</td>
                    <td class="close">x</td>
                </tr>
                <tr>
                    <td>12545</td>
                    <td>03</td>
                    <td>Intro to Computer Science</td>
                    <td>MWF</td>
                    <td>11:00-11:50</td>
                    <td>John Doe</td>
                    <td>1234</td>
                    <td>3</td>
                    <td class = "close">x</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
        </table>
    </section>
    <footer class  = "footer">
        <p>Footer</p>
    </footer>
</body>
</html>
